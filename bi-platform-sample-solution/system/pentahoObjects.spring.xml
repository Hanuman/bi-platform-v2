<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
  <bean id="pentahoObjectFactory" class="org.pentaho.platform.engine.core.system.objfac.PentahoObjectFactory"
    singleton="true">
    <property name="objectCreators">
      <map>
        <entry key="ISolutionEngine">
          <bean class="org.pentaho.platform.engine.core.system.objfac.LocalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.engine.services.solution.SolutionEngine</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="ISolutionRepository">
          <bean class="org.pentaho.platform.engine.core.system.objfac.SessionObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.repository.solution.dbbased.DbBasedSolutionRepository</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IContentRepository">
          <bean class="org.pentaho.platform.engine.core.system.objfac.SessionObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.repository.content.ContentRepository</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IRuntimeRepository">
          <bean class="org.pentaho.platform.engine.core.system.objfac.SessionObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.repository.runtime.RuntimeRepository</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IAuditEntry">
          <bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator">
						<!-- does not support session creator (aka scope) -->
            <constructor-arg>
              <value>org.pentaho.platform.engine.core.audit.AuditFileEntry</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IUITemplater">
          <bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.web.http.WebTemplateHelper</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IUserFilesComponent">
          <bean class="org.pentaho.platform.engine.core.system.objfac.SessionObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.web.refactor.UserFilesComponent</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IBackgroundExecution">
          <bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.scheduler.SecurityAwareBackgroundExecutionHelper</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="BackgroundSubscriptionExecution">
          <bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.scheduler.SecurityAwareBackgroundSubscriptionHelper</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="ISubscriptionRepository">
          <bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.repository.subscription.SubscriptionRepository</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="ISubscriptionScheduler">
          <bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.scheduler.QuartzSubscriptionScheduler</value>
            </constructor-arg>
          </bean>
        </entry>
        <!--  Use this schema factory to enable PMD security -->
        <entry key="ICwmSchemaFactory">
          <bean class="org.pentaho.platform.engine.core.system.objfac.SessionObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.engine.services.metadata.cwm.SecurityAwareCWMSchemaFactory</value>
            </constructor-arg>
          </bean>
        </entry> 

        <!--  Use this schema factory to disable PMD security -->
        <!-- 
        <entry key="ICwmSchemaFactory">
          <bean class="org.pentaho.platform.engine.core.system.objfac.SessionObjectCreator">
            <constructor-arg><value>org.pentaho.platform.engine.services.metadata.cwm.PlatformCWMSchemaFactory</value></constructor-arg>
          </bean>
        </entry>
        -->
        <entry key="IUserSettingService">
          <bean class="org.pentaho.platform.engine.core.system.objfac.SessionObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.repository.usersettings.UserSettingService</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="file">
          <bean class="org.pentaho.platform.engine.core.system.objfac.SessionObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.engine.services.outputhandler.FileOutputHandler</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="contentrepo">
          <bean class="org.pentaho.platform.engine.core.system.objfac.SessionObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.repository.content.ContentRepositoryOutputHandler</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IAclPublisher">
          <bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.engine.security.acls.AclPublisher</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IAclVoter">
          <bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.engine.security.acls.voter.PentahoBasicAclVoter</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IVersionHelper">
          <bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.util.VersionHelper</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="ICacheManager">
          <bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.plugin.services.cache.CacheManager</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IScheduler">
          <bean class="org.pentaho.platform.engine.core.system.objfac.SessionObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.scheduler.QuartzScheduler</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IConditionalExecution">
          <bean class="org.pentaho.platform.engine.core.system.objfac.LocalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.plugin.condition.javascript.ConditionalExecution</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IMessageFormatter">
          <bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.engine.services.MessageFormatter</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="INavigationComponent">
          <bean class="org.pentaho.platform.engine.core.system.objfac.LocalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.uifoundation.component.xml.NavigationComponent</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IDatasourceService">
          <bean class="org.pentaho.platform.engine.core.system.objfac.LocalObjectCreator">
            <!--
              <constructor-arg><value>org.pentaho.platform.engine.services.connection.datasource.dbcp.JndiDatasourceService</value></constructor-arg
            -->
            <constructor-arg>
              <value>org.pentaho.platform.engine.services.connection.datasource.dbcp.PooledDatasourceService</value>
            </constructor-arg>
            <!--
              <constructor-arg><value>org.pentaho.platform.engine.services.connection.datasource.dbcp.NonPooledDatasourceService</value></constructor-arg>
            -->
          </bean>
        </entry>
        <entry key="IPasswordService">
          <bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.util.Base64PasswordService</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IDatasource">
          <bean class="org.pentaho.platform.engine.core.system.objfac.LocalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.repository.datasource.Datasource</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IDatasourceMgmtService">
          <bean class="org.pentaho.platform.engine.core.system.objfac.LocalObjectCreator">
            <constructor-arg>
              <value>org.pentaho.platform.repository.datasource.DatasourceMgmtService</value>
            </constructor-arg>
          </bean>
        </entry>
        <entry key="IPluginSettings">
          <bean class="org.pentaho.platform.engine.core.system.objfac.NullObjectCreator" />
        </entry>
      </map>
    </property>
  </bean>
</beans>