<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
	<bean class="org.pentaho.platform.engine.core.system.objfac.LocalObjectCreator" id="pentahoObjects.solutionEngine">
		<constructor-arg><value>org.pentaho.platform.engine.services.solution.SolutionEngine</value></constructor-arg>
	</bean>
	<bean class="org.pentaho.platform.engine.core.system.objfac.SessionObjectCreator" id="pentahoObjects.solutionRepository">
		<constructor-arg><value>org.pentaho.platform.repository.solution.filebased.FileBasedSolutionRepository</value></constructor-arg>
	</bean>
	<bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator" id="pentahoObjects.auditEntry">
		<!-- does not support session creator (aka scope) -->
		<constructor-arg><value>org.pentaho.platform.engine.core.audit.AuditFileEntry</value></constructor-arg>
	</bean>
	<bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator" id="pentahoObjects.versionHelper">
		<constructor-arg><value>org.pentaho.platform.util.VersionHelper</value></constructor-arg>
	</bean>
	<bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator" id="pentahoObjects.subscriptionRepository">
		<constructor-arg><value>org.pentaho.platform.repository.subscription.SubscriptionRepository</value></constructor-arg>
	</bean>
	<bean class="org.pentaho.platform.engine.core.system.objfac.GlobalObjectCreator" id="pentahoObjects.subscriptionScheduler">
		<constructor-arg><value>org.pentaho.platform.scheduler.QuartzSubscriptionScheduler</value></constructor-arg>
	</bean>
	<bean class="org.pentaho.platform.engine.core.system.objfac.LocalObjectCreator" id="pentahoObjects.datasourceService">
		<constructor-arg><value>org.pentaho.platform.engine.services.connection.datasource.dbcp.JndiDatasourceService</value></constructor-arg>
		<!-- <constructor-arg><value>org.pentaho.platform.engine.services.connection.datasource.dbcp.PooledDatasourceService</value></constructor-arg> -->
		<!-- <constructor-arg><value>org.pentaho.platform.engine.services.connection.datasource.dbcp.NonPooledDatasourceService</value></constructor-arg> -->
	</bean>
	<bean id="pentahoObjectFactory" class="org.pentaho.platform.engine.core.system.objfac.PentahoObjectFactory" singleton="true">
		<property name="objectCreators">
			<map>
				<entry key="ISolutionEngine">
					<ref bean="pentahoObjects.solutionEngine" />
				</entry>
				<entry key="ISolutionRepository">
					<ref bean="pentahoObjects.solutionRepository" />
				</entry>
				<entry key="IAuditEntry">
					<ref bean="pentahoObjects.auditEntry" />
				</entry>
				<entry key="IVersionHelper">
					<ref bean="pentahoObjects.versionHelper" />
				</entry>
				<entry key="ISubscriptionRepository">
					<ref bean="pentahoObjects.subscriptionRepository" />
				</entry>
				<entry key="ISubscriptionScheduler">
					<ref bean="pentahoObjects.subscriptionScheduler" />
				</entry>	
				<entry key="IDatasourceService">
					<ref bean="pentahoObjects.datasourceService" />
				</entry>	
			</map>
		</property>
	</bean>
</beans>