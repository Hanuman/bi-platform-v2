<?xml version="1.0" encoding="UTF-8"?>
<action-sequence> 
  <name>text_only_email-loop_property.xaction</name>
  <title>Text Only Email.xml</title>
  <version>1</version>
  <logging-level>debug</logging-level>
  <documentation> 
    <author>James Dixon</author>  
    <description>Email test</description>  
    <help>just testing...</help> 
  </documentation>

  <inputs> 
    <to type="property-map-list"> 
      <default-value type="property-map-list">
        <property-map>
          <entry key="to">suzy.pentaho@pentaho.com</entry>
          <entry key="message-plain">HI .ORG Guy!</entry>
          <entry key="subject">text_only_email-loop_property.xaction - Subject for .ORG Guy</entry>
        </property-map>
        <property-map>
          <entry key="to">suzy.pentaho@pentaho.com</entry>
          <entry key="message-plain">Hi .COM Boy!</entry>
          <entry key="subject">text_only_email-loop_property.xaction - Subject for .COM Boy</entry>
        </property-map>
        <property-map>
          <entry key="to">suzy.pentaho@pentaho.com</entry>
          <entry key="message-plain">Hi .Net Dude!</entry>
          <entry key="subject">text_only_email-loop_property.xaction - Subject for .NET Dude</entry>
        </property-map>
        <property-map>
          <entry key="to">suzy.pentaho@pentaho.com</entry>
          <entry key="message-plain">Hi Doug!</entry>
          <entry key="subject">text_only_email-loop_property.xaction - Subject for Doug</entry>
        </property-map>
      </default-value> 
    </to>  
    <from type="string"> 
      <default-value><![CDATA[suzy.pentaho@pentaho.com]]></default-value> 
    </from>  
    <subject type="string"> 
      <default-value>Fake Subject</default-value> 
    </subject>  
    <message-plain type="string"> 
      <default-value>Old Message Text</default-value> 
    </message-plain> 
  </inputs>

  <outputs/>

  <resources/>
  
  <actions loop-on="to"> 
    <action-definition> 
      <component-name>EmailComponent</component-name>
      <action-type>property-map-email</action-type>
      <action-inputs> 
        <to type="string"/>  
        <subject type="string"/>  
        <message-plain type="string"/> 
      </action-inputs>
      <component-definition> 
        <type>property-map-email</type> 
      </component-definition> 
    </action-definition>
 
  </actions> 
</action-sequence>